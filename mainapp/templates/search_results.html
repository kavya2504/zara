{% extends 'base.html' %}

{% block title %}
 Z Shop | Search results for {{ query }}
{% endblock %}

{% block content %}

<div class="container my-4">
  <h4 class="text-center mb-4">Search Results for: <span class="text-primary">{{ query }}</span></h4>

  <div class="row justify-content-center g-4">
    {% for product in prods %}
      <div class="card col-md-3 col-sm-6 p-2 shadow-sm" style="background-color: #fff6ed; border-radius: 10px;">
        <div style="height: 180px; overflow: hidden; border-radius: 8px;">
          <img src="{{ product.img.url }}" alt="{{ product.name }}" class="card-img-top" style="height: 100%; object-fit: cover;">
        </div>

        <div class="card-body d-flex flex-column" style="color: #5e4b44;">
          <h6 class="card-title text-truncate">
            <a href="{% url 'prod_details' product.pk %}" class="text-decoration-none fw-bold" style="color: #5e4b44;">
              {{ product.name }}
            </a>
          </h6>

          <p class="fw-semibold mb-1">Rs. {{ product.price }}</p>

          <p class="small mb-2" style="
            font-size: 14px;
            color: #7a6e65;
            line-height: 1.3em;
            max-height: 2.6em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
          ">
            {{ product.desc }}
          </p>

          <a href="{% url 'add_to_cart' product.pk %}" class="btn btn-sm mt-auto text-white" style="background-color: #ba8f6a;">
            Add to Cart
          </a>
        </div>
      </div>
    {% empty %}
      <div class="text-center mt-5">
        <h5 class="text-danger">No results found ðŸ˜¢</h5>
      </div>
    {% endfor %}
  </div>
</div>

{% endblock %}